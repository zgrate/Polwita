<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/"/>

    <title>database module &#8212; Polvita documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css"/>
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css"/>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html"/>
    <link rel="search" title="Search" href="../search.html"/>

    <link rel="stylesheet" href="../_static/custom.css" type="text/css"/>


    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9"/>

</head>
<body>


<div class="document">
    <div class="documentwrapper">
        <div class="bodywrapper">


            <div class="body" role="main">

                <section id="module-database">
                    <span id="database-module"></span>
                    <h1>database module<a class="headerlink" href="#module-database" title="Permalink to this headline">¶</a>
                    </h1>
                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.add_to_basket">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">add_to_basket</span></span><span
                                class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span
                                class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span
                                class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span
                                class="pre">items</span></span><span class="p"><span class="pre">:</span></span><span
                                class="w"> </span><span class="n"><span class="pre">list</span></span></em><span
                                class="sig-paren">)</span><a class="headerlink" href="#database.add_to_basket"
                                                             title="Permalink to this definition">¶</a></dt>
                        <dd><p>Adds item to the basket
                            :param user_id: user ID
                            :param items: Items to add</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.configure_in_memory_db">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">configure_in_memory_db</span></span><span
                                class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"
                                                                                             href="#database.configure_in_memory_db"
                                                                                             title="Permalink to this definition">¶</a>
                        </dt>
                        <dd><p>Configures in-memory database for usage in testing</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.configure_remote_db">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">configure_remote_db</span></span><span
                                class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"
                                                                                             href="#database.configure_remote_db"
                                                                                             title="Permalink to this definition">¶</a>
                        </dt>
                        <dd><p>Configures real DB</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.createTables">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">createTables</span></span><span
                                class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"
                                                                                             href="#database.createTables"
                                                                                             title="Permalink to this definition">¶</a>
                        </dt>
                        <dd><p>Creates tables in the system</p>
                        </dd>
                    </dl>

                    <dl class="py data">
                        <dt class="sig sig-object py" id="database.engine">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">engine</span></span><em
                                class="property"><span class="p"><span class="pre">:</span></span><span
                                class="w"> </span><span class="pre">sqlalchemy.future.engine.Engine</span></em><a
                                class="headerlink" href="#database.engine" title="Permalink to this definition">¶</a>
                        </dt>
                        <dd></dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.fill_with_data">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">fill_with_data</span></span><span
                                class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink"
                                                                                             href="#database.fill_with_data"
                                                                                             title="Permalink to this definition">¶</a>
                        </dt>
                        <dd><p>Fills the DB using fake data</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.get_article">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">get_article</span></span><span
                                class="sig-paren">(</span><em class="sig-param"><span class="n"><span
                                class="pre">id</span></span></em><span class="sig-paren">)</span><a class="headerlink"
                                                                                                    href="#database.get_article"
                                                                                                    title="Permalink to this definition">¶</a>
                        </dt>
                        <dd><p>Query article from DB
                            :param id: Id of the article
                            :return: Article Object</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.get_articles">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">get_articles</span></span><span
                                class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_ids</span></span><span
                                class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span
                                class="pre">list</span><span class="p"><span class="pre">[</span></span><span
                                class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span
                                class="sig-paren">)</span><a class="headerlink" href="#database.get_articles"
                                                             title="Permalink to this definition">¶</a></dt>
                        <dd><p>Get all the articles from the database, that matches IDs in the list
                            :param list_ids: list of ids
                            :return: list of article</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.get_basket">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">get_basket</span></span><span
                                class="sig-paren">(</span><em class="sig-param"><span class="n"><span
                                class="pre">id</span></span></em><span class="sig-paren">)</span><a class="headerlink"
                                                                                                    href="#database.get_basket"
                                                                                                    title="Permalink to this definition">¶</a>
                        </dt>
                        <dd><p>Returns the basket of given user
                            :param id: Id of the user
                            :return: Basket in the system as an array of {id: int, article: Article, amount: int} or
                            empty array if not found</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.get_e_recepta">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">get_e_recepta</span></span><span
                                class="sig-paren">(</span><em class="sig-param"><span class="n"><span
                                class="pre">numer</span></span></em>, <em class="sig-param"><span class="n"><span
                                class="pre">pesel</span></span></em><span class="sig-paren">)</span><a
                                class="headerlink" href="#database.get_e_recepta"
                                title="Permalink to this definition">¶</a></dt>
                        <dd><p>Fetches remote e-prescription
                            :param numer: Number of the prescription
                            :param pesel: Pesel
                            :return: List of article IDs with amount</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.get_payment">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">get_payment</span></span><span
                                class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span
                                class="sig-paren">)</span><a class="headerlink" href="#database.get_payment"
                                                             title="Permalink to this definition">¶</a></dt>
                        <dd><p>Gets payment methods of the user
                            :param user_id: User ID
                            :return:</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.get_user">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">get_user</span></span><span
                                class="sig-paren">(</span><em class="sig-param"><span class="n"><span
                                class="pre">id</span></span></em><span class="sig-paren">)</span><a class="headerlink"
                                                                                                    href="#database.get_user"
                                                                                                    title="Permalink to this definition">¶</a>
                        </dt>
                        <dd><p>Gets user from the DB
                            :param id: ID of the user
                            :return: User</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.order">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">order</span></span><span
                                class="sig-paren">(</span><em class="sig-param"><span class="n"><span
                                class="pre">json</span></span><span class="p"><span class="pre">:</span></span><span
                                class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em
                                class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span
                                class="sig-paren">)</span><a class="headerlink" href="#database.order"
                                                             title="Permalink to this definition">¶</a></dt>
                        <dd><p>Executes order of items from the user
                            :param json: Json with all the data [“name”, “address”, “postcode”, “city”,
                            “delivery_method”, “payment_method”]
                            :param user_id:
                            :return:</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.row2dict">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">row2dict</span></span><span
                                class="sig-paren">(</span><em class="sig-param"><span class="n"><span
                                class="pre">row</span></span></em><span class="sig-paren">)</span><a class="headerlink"
                                                                                                     href="#database.row2dict"
                                                                                                     title="Permalink to this definition">¶</a>
                        </dt>
                        <dd><p>Converts row objects (Table) to dictionary
                            :param row: Row-object of table
                            :return: dict</p>
                        </dd>
                    </dl>

                    <dl class="py function">
                        <dt class="sig sig-object py" id="database.update_basket">
                            <span class="sig-prename descclassname"><span class="pre">database.</span></span><span
                                class="sig-name descname"><span class="pre">update_basket</span></span><span
                                class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>,
                            <em class="sig-param"><span class="n"><span class="pre">article_id</span></span></em>, <em
                                class="sig-param"><span class="n"><span class="pre">new_amount</span></span></em><span
                                class="sig-paren">)</span><a class="headerlink" href="#database.update_basket"
                                                             title="Permalink to this definition">¶</a></dt>
                        <dd><p>Updates basket with a new amount
                            :param user_id: User ID
                            :param article_id: Article ID
                            :param new_amount: New amount</p>
                        </dd>
                    </dl>

                </section>


            </div>

        </div>
    </div>
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h1 class="logo"><a href="../index.html">Polvita</a></h1>


            <h3>Navigation</h3>

            <div class="relations">
                <h3>Related Topics</h3>
                <ul>
                    <li><a href="../index.html">Documentation overview</a>
                        <ul>
                        </ul>
                    </li>
                </ul>
            </div>
            <div id="searchbox" style="display: none" role="search">
                <h3 id="searchlabel">Quick search</h3>
                <div class="searchformwrapper">
                    <form class="search" action="../search.html" method="get">
                        <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off"
                               autocapitalize="off" spellcheck="false"/>
                        <input type="submit" value="Go"/>
                    </form>
                </div>
            </div>
            <script>$('#searchbox').show(0);</script>


        </div>
    </div>
    <div class="clearer"></div>
</div>
<div class="footer">
    &copy;2022, Grzegorz Dzikowski.

    |
    Powered by <a href="http://sphinx-doc.org/">Sphinx 4.4.0</a>
    &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>

    |
    <a href="../_sources/source/database.rst.txt"
       rel="nofollow">Page source</a>
</div>


</body>
</html>